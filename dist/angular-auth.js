!function(){"use strict";angular.module("ngAuth",[]).config(["$ngAuthProvider",function(n){n.set({baseUrl:"/authentication"})}]).provider("$ngAuth",function(){var n={};return n.uid={},n.validation={fn:{email:function(n){return angular.isString(n)},password:function(n){return angular.isString(n)&&n.length>6},token:function(n){return angular.isString(n)},expires:function(n){return angular.isDate(n)||n>Date.now()}},requirements:{credentials:["email","password"],uid:["email","password","token","expires"]}},{set:function(e){angular.extend(n,e)},$get:["ngAuthFactory",function(e){return e(n)}]}}).factory("ngAuthFactory",["$q","$http","$rootScope","$timeout",function(n,e,t,r){return function(t){var i={},u=!1,a=function(n,e){var r=!0;return angular.forEach(e,function(e){(angular.isUndefined(n[e])||t.validation.fn[e](n[e])===!1)&&(r=!1)}),r},o=function(n,r){return e.post(t.baseUrl,n).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)})};return i.set=function(n){i.uid=n},i.authenticate=function(e){var i=n.defer();return angular.isUndefined(e)||a(e,t.validation.requirements.credentials)===!1?r(function(){i.reject(!1)},0):o(e,i),i.promise},i.deauthenticate=function(){var e=n.defer();return e.promise},i.isAuthenticated=function(){var e=n.defer();return a(i.uid,t.validation.requirements.uid)&&r(function(){e.resolve(u)},0),a(i.uid,t.validation.requirements.credentials)?i.authenticate(i.uid).then(function(n){e.resolve(n)},function(n){e.reject(n)}):e.reject(!1),e.promise},angular.extend(i,t),i}}])}();